export PATH=~/bin:$PATH

if [[ "$OSTYPE" == "darwin"* ]]; then
	## for cross compile in macos
	export HOSTCFLAGS="-I/usr/local/opt/openssl/include -L/usr/local/opt/openssl/lib"
    for file in /usr/local/opt/*
    do
        if [ -d $file ] && [ -d $file/libexec/gnubin ]
        then
              export PATH=$file/libexec/gnubin:$PATH
        fi
    done
    ## homebrew mirror
    export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles
fi

if [[ "$SSH_CONNECTION" != "" && "$SCHSPA_SSHFS_DIR" != "" && "$SCHSPA_SSHFS_TARGET" != "" ]]; then
	echo "mount sshfs on $SCHSPA_SSHFS_TARGET"
	if [ "`ls -A ${SCHSPA_SSHFS_TARGET}`" = "" ]; then
		sshfs $(echo $SSH_CONNECTION | awk '{print $1}'):$SCHSPA_SSHFS_DIR "$HOME/$SCHSPA_SSHFS_TARGET"
	fi
fi

